<link rel="import" href="bower_components/note-app-elements/na-elements.html">
<link rel="import" href="bower_components/app-storage/app-indexeddb-mirror/app-indexeddb-mirror.html">
<link rel="import" href="bower_components/polymerfire/polymerfire.html">

<dom-module id="note-app">
  <template>
      <style include="note-app-shared-styles"></style>
      <!-- ツールバーを表示 -->
      <na-toolbar
          signed-in="[[signedIn]]"
          on-sign-out="signOut">
      </na-toolbar>
      <!-- Sign in with Google のボタンを表示 -->
      <na-login
          on-sign-in="signIn"
          signed-in="[[signedIn]]"
          disabled="[[!online]]">
      </na-login>

      <!-- Firebase custom element that implements the business logic we need for authentication -->
      <firebase-auth
          id="auth"
          app-name="notes"
          provider="google"
          signed-in="{{signedIn}}"
          user="{{user}}">
      </firebase-auth>
  </template>
  <script>
    Polymer({
      is: 'note-app',

      /* sharing common implementation */
      behaviors: [Polymer.NoteAppBehavior],

      /* implement the signIn listener */
      signIn: function() {
          this.$.auth.signInWithPopup();
      }
    });
  </script>
</dom-module>
